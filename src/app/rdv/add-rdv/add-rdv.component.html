<br>
<br>
<br>
<br>
<br>  
      <div class="row">
        <div class="container">
  
          <div class="section-title">
            <h2>Make an Appointment</h2>
          </div>

          
    <div class="col-md-6 offset-md-3 mt-4 lg-flex">
      <form #f="ngForm" >

          <div class="form-group form-group-lg">
              <input type="text" name="username" #firstname="ngModel" 
                  placeholder=" First & Last name" [(ngModel)]="rdv.username" 
                  class="form-control form-control-lg" required minlength="15">                   
          </div>
          <div *ngIf="!firstname?.valid && (firstname?.dirty || firstname?.touched)" class="alert alert-danger">
            <div *ngIf="firstname.errors.required">
              This field is required
            </div>
            <div *ngIf="firstname.errors.minlength">
              First & Last Name Minimum Length is {{firstname.errors.minlength?.requiredLength}}
            </div>
          </div>

          <div class="form-group form-group-lg">
            <input type="text" name="email" class="form-control form-control-lg " id="email"
            placeholder="Email" *ngIf="cnt==1" value="{{this.email}}" disabled=true> 
          </div>
          
          <div class="form-group form-group-lg">
            <input type="time" name="time" class="form-control form-control-lg timepicker" id="time" 
            placeholder="Appointment Time" required [(ngModel)]="rdv.time" #ti="ngModel" >                           
          </div>
          <div *ngIf="!ti?.valid && (ti?.dirty || ti?.touched)" class="alert alert-danger">
            <div *ngIf="ti.errors.required">
              Time is required
            </div>
          </div>

          <div class="form-group form-group-lg">
            <input type="date" name="date" class="form-control form-control-lg " id="date" 
            placeholder="Appointment Date" required [(ngModel)]="rdv.appdate" #d="ngModel" >                                                   
          </div>
          <div *ngIf="!d?.valid && (d?.dirty || d?.touched)" class="alert alert-danger">
            <div *ngIf="d.errors.required">
              Date is required
            </div>
          </div>

          <div class="form-group form-group-lg">
            <select name="doctor" id="doctor" class="form-control form-control-lg"
              [(ngModel)]="rdv.Doctor" required #doc="ngModel" aria-placeholder="Select Doctor">
              <option value=""></option>
              <option *ngFor="let d of listdocs" value="{{d.firstname}} {{d.lastname}}">
                {{d.firstname}} {{d.lastname}}</option>
            </select>                                                   
          </div>
          <div *ngIf="!doc?.valid && (doc?.dirty || doc?.touched)" class="alert alert-danger">
            <div *ngIf="doc.errors.required">
              Doctors list is required
            </div>
          </div>

          <div class="form-group form-group-lg">
            <textarea class="form-control form-control-lg" type="text" [(ngModel)]="rdv.text" #text="ngModel"
            name="text" rows="5" placeholder="Description" required > </textarea>                                           
          </div>
          <div *ngIf="!text?.valid && (text?.dirty || text?.touched)" class="alert alert-danger">
            <div *ngIf="text.errors.required">
              Description is required
            </div>
          </div>

          <div class="text-center">
            <button type="submit" (click)="addRdv()" [disabled]="!f.valid"
            class="btn btn-outline-primary btn-lg" > 
              <h2>Save Appointment</h2></button>
              <button style="margin-left: 10px;" routerLink="/user"  class="btn btn-outline-secondary btn-lg" > 
                <h2>Back</h2></button>
          </div>

         
      </form>
  </div>


  
        </div>
      </div>
